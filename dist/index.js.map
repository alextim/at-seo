{"version":3,"file":"index.js","sources":["../src/getWebSiteSchema.js","../src/getPageSchema.js","../src/getOrganizationSchema.js","../src/SeoBase.jsx"],"sourcesContent":["const getWebSiteSchema = ({ siteUrl, siteTitle, siteDescription, htmlLang }) => ({\r\n  '@context': 'https://schema.org',\r\n  '@type': 'WebSite',\r\n  url: siteUrl,\r\n  name: siteTitle,\r\n  description: siteDescription,\r\n  inLanguage: htmlLang,\r\n});\r\n\r\nexport default getWebSiteSchema;\r\n","const getPageSchema = ({\r\n  organizationName,\r\n  siteUrl,\r\n  siteLogo,\r\n  URL,\r\n  title,\r\n  headline,\r\n  htmlLang,\r\n  imgURL,\r\n  datePublished,\r\n  dateModified,\r\n  pageType,\r\n  publisher,\r\n  author,\r\n}) => {\r\n  const type =\r\n    !pageType || !['Article', 'BlogPosting', 'Blog'].some((t) => pageType === t)\r\n      ? 'WebPage'\r\n      : pageType;\r\n  const isArticle = pageType === 'Article' || pageType === 'BlogPosting';\r\n\r\n  const o = {\r\n    '@context': 'https://schema.org',\r\n    '@type': type,\r\n    name: title,\r\n    inLanguage: htmlLang,\r\n    publisher: publisher || {\r\n      '@type': 'Organization',\r\n      name: organizationName,\r\n      url: siteUrl,\r\n      logo: {\r\n        '@type': 'ImageObject',\r\n        url: siteLogo,\r\n      },\r\n    },\r\n  };\r\n\r\n  if (isArticle) {\r\n    o.author = author || o.publisher;\r\n    o.mainEntityOfPage = {\r\n      '@type': 'WebPage',\r\n      '@id': URL,\r\n    };\r\n    o.headline = headline;\r\n    if (datePublished) {\r\n      o.datePublished = datePublished;\r\n    }\r\n    if (dateModified) {\r\n      o.dateModified = dateModified;\r\n    }\r\n  } else {\r\n    o.url = URL;\r\n    o.description = headline;\r\n  }\r\n\r\n  if (imgURL) {\r\n    o.image = imgURL;\r\n  }\r\n\r\n  return o;\r\n};\r\n\r\nexport default getPageSchema;\r\n","import utils from '@alextim/utils';\r\n\r\nconst weekDays = {\r\n  mo: 'Monday',\r\n  tu: 'Tuesday',\r\n  we: 'Wednesday',\r\n  th: 'Thursday',\r\n  fr: 'Friday',\r\n  sa: 'Saturday',\r\n  su: 'Sunday',\r\n};\r\n\r\n/*\r\nconst getOpeningHours = (openingHours, dows) => {\r\n  const parseDow = (s) => {\r\n    if (!s) {\r\n      return '';\r\n    }\r\n    const dow = s.split('-');\r\n    if (dow.length === 1) {\r\n      return dows[s];\r\n    }\r\n    return `${dows[dow[0]]}-${dows[dow[1]]}`;\r\n  };\r\n  const a = openingHours.reduce(\r\n    (acc, [dow, timeStart, timeFinish]) =>\r\n      `${acc}${acc ? ', ' : ''}${parseDow(dow)}: ${timeStart}-${timeFinish}`,\r\n    '',\r\n  );\r\n  return a.length === 1 ? a[0] : a;\r\n};\r\n*/\r\nconst getOpeningHoursSpecification = (openingHours) => {\r\n  const parseDow = (s) => {\r\n    if (!s) {\r\n      return undefined;\r\n    }\r\n\r\n    let dow = s.split('-');\r\n    if (dow.length > 1) {\r\n      const d1 = dow[0].trim();\r\n      const d2 = dow[1].trim();\r\n      const keys = Object.keys(weekDays);\r\n      const a = [];\r\n      let first = false;\r\n      let last = false;\r\n      keys.forEach((d) => {\r\n        if (d === d1) {\r\n          first = true;\r\n          a.push(weekDays[d]);\r\n        } else if (d === d2) {\r\n          last = true;\r\n          a.push(weekDays[d]);\r\n        } else if (first && !last) {\r\n          a.push(weekDays[d]);\r\n        }\r\n      });\r\n      return a;\r\n    }\r\n\r\n    dow = s.split(',');\r\n    if (dow.length > 1) {\r\n      return dow.map((d) => weekDays[d.trim()]);\r\n    }\r\n    return weekDays[s.trim()];\r\n  };\r\n\r\n  return openingHours.map(([dow, timeStart, timeFinish]) => ({\r\n    '@type': 'OpeningHoursSpecification',\r\n    dayOfWeek: parseDow(dow),\r\n    opens: timeStart,\r\n    closes: timeFinish,\r\n  }));\r\n};\r\n\r\nconst getOrganizationSchema = ({\r\n  orgContacts,\r\n  orgAddress = {},\r\n  config,\r\n  /* dows,  */\r\n  socialLinks,\r\n}) => {\r\n  const {\r\n    organizationType,\r\n    geo,\r\n    openingHours,\r\n    phone: organizationPhone,\r\n    email: organizationEmail,\r\n    hasMap,\r\n    priceRange,\r\n    currenciesAccepted,\r\n    paymentAccepted,\r\n  } = orgContacts;\r\n\r\n  const {\r\n    name: organizationName,\r\n    legalName,\r\n    alternateName,\r\n    description,\r\n    postalAddress,\r\n    contactPoint,\r\n  } = orgAddress;\r\n\r\n  const schema = {\r\n    '@context': 'https://schema.org',\r\n    '@type': organizationType,\r\n    '@id': config.siteUrl,\r\n    name: organizationName,\r\n    description,\r\n    url: config.siteUrl,\r\n    logo: config.siteLogo,\r\n  };\r\n  if (config.siteBusinessPhoto) {\r\n    schema.image = Array.isArray(config.siteBusinessPhoto)\r\n      ? [...config.siteBusinessPhoto]\r\n      : config.siteBusinessPhoto;\r\n  }\r\n\r\n  let postalAddressObj;\r\n  if (postalAddress) {\r\n    postalAddressObj = {\r\n      '@type': 'PostalAddress',\r\n      ...postalAddress,\r\n      streetAddress: postalAddress.streetAddress && postalAddress.streetAddress.join(', '),\r\n    };\r\n    schema.address = postalAddressObj;\r\n  }\r\n  if (legalName) {\r\n    schema.legalName = legalName;\r\n  }\r\n  if (alternateName) {\r\n    schema.alternateName = alternateName;\r\n  }\r\n\r\n  if (organizationPhone) {\r\n    schema.telephone = `+${organizationPhone[0]}`;\r\n  }\r\n  if (organizationEmail) {\r\n    schema.email = `mailto:${organizationEmail[0]}`;\r\n  }\r\n\r\n  if (geo) {\r\n    schema.geo = {\r\n      '@type': 'GeoCoordinates',\r\n      ...geo,\r\n    };\r\n  }\r\n\r\n  if (contactPoint) {\r\n    schema.contactPoint = contactPoint.map(\r\n      ({ name, contactType, telephone, email, areaServed }) => {\r\n        const o = {\r\n          '@type': 'ContactPoint',\r\n          name,\r\n          contactType,\r\n        };\r\n        if (telephone) {\r\n          o.telephone = telephone.reduce(\r\n            (acc, curr) => `${acc}${acc ? ', ' : ''}${utils.formatPhone(curr)}`,\r\n            '',\r\n          );\r\n        }\r\n        if (email) {\r\n          o.email = email.join();\r\n        }\r\n        if (areaServed) {\r\n          o.areaServed = areaServed;\r\n        }\r\n        return o;\r\n      },\r\n    );\r\n  } else {\r\n    if (organizationEmail) {\r\n      schema.email = organizationEmail.join();\r\n    }\r\n    if (organizationPhone) {\r\n      schema.telephone = organizationPhone.join();\r\n    }\r\n  }\r\n\r\n  if (socialLinks) {\r\n    schema.sameAs = Object.keys(socialLinks).map((key) => socialLinks[key].to);\r\n  }\r\n\r\n  if (currenciesAccepted) {\r\n    schema.currenciesAccepted = currenciesAccepted;\r\n  }\r\n  if (paymentAccepted) {\r\n    schema.paymentAccepted = paymentAccepted;\r\n  }\r\n  if (priceRange) {\r\n    schema.priceRange = priceRange;\r\n  }\r\n\r\n  if (Array.isArray(openingHours)) {\r\n    /*\r\n    if (dows) {\r\n      schema.openingHours = getOpeningHours(openingHours, dows);\r\n    }\r\n    */\r\n    schema.OpeningHoursSpecification = getOpeningHoursSpecification(openingHours);\r\n  }\r\n\r\n  if (hasMap) {\r\n    schema.hasMap = hasMap;\r\n  }\r\n\r\n  return schema;\r\n};\r\n\r\nexport default getOrganizationSchema;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nimport getWebSiteSchema from './getWebSiteSchema';\r\nimport getPageSchema from './getPageSchema';\r\nimport getOrganizationSchema from './getOrganizationSchema';\r\n\r\nconst SeoBase = ({\r\n  config,\r\n  siteMeta,\r\n  i18n,\r\n  orgContacts,\r\n  orgAddress,\r\n  socialLinks,\r\n  title,\r\n  headline,\r\n  description,\r\n  locale,\r\n  pathname,\r\n  pageType,\r\n  imgPath,\r\n  datePublished,\r\n  dateModified,\r\n  canonical,\r\n  noindex,\r\n  metas,\r\n  links,\r\n}) => {\r\n  const isRoot = pathname === '/';\r\n\r\n  const URL = `${config.siteUrl}${pathname}`;\r\n  const homeURL = i18n ? `${config.siteUrl}${i18n.localizePath('/', locale)}` : URL;\r\n\r\n  let imgURL;\r\n  if (imgPath) {\r\n    imgURL = `${config.siteUrl}${imgPath}`;\r\n  }\r\n\r\n  const purePath = i18n ? i18n.purePath(pathname) : pathname;\r\n\r\n  const ogImage = { ...config.ogImage, src: `${config.ogImage.src}${locale}.jpg` };\r\n  const twitterImage = { ...config.twitterImage, src: `${config.twitterImage.src}${locale}.jpg` };\r\n\r\n  const { htmlLang, ogLocale, siteTitle, siteDescription } = siteMeta;\r\n\r\n  const isArticle = pageType === 'Article' || pageType === 'BlogPosting';\r\n\r\n  const metaTitle = title || siteTitle;\r\n  const metaDescription = description || siteDescription;\r\n  return (\r\n    <Helmet>\r\n      <html lang={htmlLang} />\r\n      <meta name=\"robots\" content={`${noindex ? 'no' : ''}index, follow`} />\r\n      <title>{metaTitle}</title>\r\n      {i18n?.localeCodes.map((code) => (\r\n        <link\r\n          key={code}\r\n          rel=\"alternate\"\r\n          hrefLang={i18n.locales[code].htmlLang}\r\n          href={`${config.siteUrl}${i18n.localizePath(purePath, code)}`}\r\n        />\r\n      ))}\r\n      {i18n && <link rel=\"alternate\" hrefLang=\"x-default\" href={`${config.siteUrl}${purePath}`} />}\r\n      {/** *\r\n       * https://developer.mozilla.org/ru/docs/Web/HTTP/Headers/Content-Language\r\n       *\r\n       * Не  используйте этот мета элемент как здесь для констатирования языка документа:\r\n       *\r\n       * <meta httpEquiv=\"content-language\" content={htmlLang} />\r\n       *\r\n       *  */}\r\n      <meta name=\"description\" content={metaDescription} />\r\n      {canonical && <link rel=\"canonical\" href={URL} />}\r\n      {links && links.map(({ rel, href }) => <link key={href} rel={rel} href={href} />)}\r\n      <meta name=\"theme-color\" content={config.themeColor} />\r\n      {metas &&\r\n        Object.keys(metas).map((name) => <meta key={name} name={name} content={metas[name]} />)}\r\n      {config.fbAppID && <meta property=\"fb:app_id\" content={config.fbAppID} />}\r\n      <meta property=\"og:locale\" content={ogLocale} />\r\n      {i18n?.localeCodes\r\n        .filter((code) => code !== locale)\r\n        .map((code) => (\r\n          <meta key={code} property=\"og:locale:alternate\" content={i18n.locales[code].ogLocale} />\r\n        ))}\r\n      <meta property=\"og:site_name\" content={i18n.locales[locale].siteShortName} />\r\n      {socialLinks && socialLinks.facebook && (\r\n        <meta property=\"article:publisher\" content={socialLinks.facebook.to} />\r\n      )}\r\n      <meta property=\"og:url\" content={URL} />\r\n      <meta property=\"og:type\" content={isArticle ? 'article' : 'website'} />\r\n      <meta property=\"og:title\" content={metaTitle} />\r\n      <meta property=\"og:description\" content={metaDescription} />\r\n      <meta property=\"og:image\" content={ogImage.src} />\r\n      <meta property=\"og:image:alt\" content={metaDescription} />\r\n      <meta property=\"og:image:width\" content={ogImage.width} />\r\n      <meta property=\"og:image:height\" content={ogImage.height} />\r\n      {socialLinks &&\r\n        Object.keys(socialLinks).map((key) => (\r\n          <meta key={key} property=\"og:see_also\" content={socialLinks[key].to} />\r\n        ))}\r\n      <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n      {(config.twitterCreator || config.twitterSite) && (\r\n        <>\r\n          <meta name=\"twitter:site\" content={config.twitterSite || config.twitterCreator} />\r\n          <meta name=\"twitter:creator\" content={config.twitterCreator || config.twitterSite} />\r\n        </>\r\n      )}\r\n      <meta name=\"twitter:title\" content={metaTitle} />\r\n      <meta name=\"twitter:description\" content={metaDescription} />\r\n      <meta name=\"twitter:image\" content={twitterImage.src} />\r\n      <meta name=\"twitter:image:alt\" content={metaDescription} />\r\n      <meta name=\"twitter:image:width\" content={twitterImage.width} />\r\n      <meta name=\"twitter:image:height\" content={twitterImage.height} />\r\n      <link type=\"text/plain\" href={`${config.siteUrl}/humans.txt`} rel=\"author\" />\r\n      <script type=\"application/ld+json\">\r\n        {JSON.stringify(\r\n          getWebSiteSchema({\r\n            siteUrl: config.siteUrl,\r\n            siteTitle,\r\n            siteDescription,\r\n            htmlLang,\r\n          }),\r\n        )}\r\n      </script>\r\n      <script type=\"application/ld+json\">\r\n        {JSON.stringify(\r\n          getPageSchema({\r\n            organizationName: orgAddress.name,\r\n            siteUrl: config.siteUrl,\r\n            siteLogo: config.siteLogo,\r\n            URL,\r\n            headline: headline || metaDescription,\r\n            metaTitle,\r\n            metaDescription,\r\n            htmlLang,\r\n            imgURL,\r\n            datePublished,\r\n            dateModified,\r\n            pageType,\r\n          }),\r\n        )}\r\n      </script>\r\n      {isRoot && (\r\n        <script type=\"application/ld+json\">\r\n          {JSON.stringify(\r\n            getOrganizationSchema({\r\n              orgContacts,\r\n              orgAddress,\r\n              config,\r\n              homeURL,\r\n              socialLinks,\r\n            }),\r\n          )}\r\n        </script>\r\n      )}\r\n    </Helmet>\r\n  );\r\n};\r\n\r\nexport default SeoBase;\r\n"],"names":["getWebSiteSchema","siteUrl","siteTitle","siteDescription","htmlLang","url","name","description","inLanguage","getPageSchema","organizationName","siteLogo","URL","title","headline","imgURL","datePublished","dateModified","pageType","publisher","author","type","some","t","isArticle","o","logo","mainEntityOfPage","image","weekDays","mo","tu","we","th","fr","sa","su","getOpeningHoursSpecification","openingHours","parseDow","s","undefined","dow","split","length","d1","trim","d2","keys","Object","a","first","last","forEach","d","push","map","timeStart","timeFinish","dayOfWeek","opens","closes","getOrganizationSchema","orgContacts","orgAddress","config","socialLinks","organizationType","geo","organizationPhone","phone","organizationEmail","email","hasMap","priceRange","currenciesAccepted","paymentAccepted","legalName","alternateName","postalAddress","contactPoint","schema","siteBusinessPhoto","Array","isArray","postalAddressObj","streetAddress","join","address","telephone","contactType","areaServed","reduce","acc","curr","utils","formatPhone","sameAs","key","to","OpeningHoursSpecification","SeoBase","siteMeta","i18n","locale","pathname","imgPath","canonical","noindex","metas","links","isRoot","homeURL","localizePath","purePath","ogImage","src","twitterImage","ogLocale","metaTitle","metaDescription","Helmet","localeCodes","code","locales","rel","href","themeColor","fbAppID","filter","siteShortName","facebook","width","height","twitterCreator","twitterSite","JSON","stringify"],"mappings":"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"}